"use strict";

var mainBanner = {
  "product": ["Jimmy Chin × Osmo Action", "灵眸 Osmo 口袋云台相机", "经纬 M200 V2 系列", "机甲大师 RoboMaster S1", "御 Mavic Mini 航拍小飞机", "T20 植保无人飞机", "Osmo Mobile 灵眸手机云台 3", "DJI FPV 数字图传系统", "Ronin SC 如影 SC 单手持微单稳定器", "机甲大师 RoboMaster S1"],
  "title": ["重塑生产力", "你也能飞", "大，有可为", "随手掌控，一拍即合", "竞速视界，更快更清晰", "轻装上阵，何惧挑战", "玩出名堂", "转动随心，灵感不停", "重塑生产力"],
  "text": ["https://www1.djicdn.com/cms_uploads/banner_logo/icon/129/95cc0f3a01bc7eaa2d3968632a088180.svg", "https://www1.djicdn.com/cms/uploads/7705d2c815fe67a829206f3838464cbc.svg", "https://www1.djicdn.com/cms/uploads/c0650a87dd2fe231b8c3a38a08fa55fc.png", "https://www1.djicdn.com/cms/uploads/37783133be86556bbddd2bee6fef6826.svg", "https://www1.djicdn.com/cms/uploads/b5f65751c5c0d49ca85a27009c83154b.svg", "https://www1.djicdn.com/cms/uploads/0e0afe716e079059eeff3e09e9d0d125.png", "https://www1.djicdn.com/cms/uploads/b7d02e38ba75a512fe05bde383412b9d.svg", "https://www2.djicdn.com/cms_uploads/banner_logo/icon/1155/39a2ba5d56dade7649190a1cc7e5088b.svg", "https://www1.djicdn.com/cms_uploads/banner_logo/icon/129/95cc0f3a01bc7eaa2d3968632a088180.svg"],
  "img": ["http://www1.djicdn.com/cms_uploads/banner_product/img/131/0401ccc86a1e169a14d44506490d47f1.png", "https://www1.djicdn.com/cms/uploads/d6c0dfa94fb2abf048409f3d735edadd.png", "https://www1.djicdn.com/cms/uploads/5812df4c2bdd213f425bcb78f7135917.png", "https://www1.djicdn.com/cms/uploads/0f966889593c6fac4c530160211b115e.png", "https://www1.djicdn.com/cms/uploads/7b2bf80dd0924283b574df3bd1e112e5.png", "https://www1.djicdn.com/cms/uploads/9bb97ba38eebbb523d99cd7842977efc.png", "https://www1.djicdn.com/cms/uploads/8383c3da186384a9af787671c1beae96.png", "https://www1.djicdn.com/cms_uploads/banner_product/img/1157/c304c1edb7373ce6e75bc0065df076c8.png", "https:/www1.djicdn.com/cms_uploads/banner_product/img/131/0401ccc86a1e169a14d44506490d47f1.png"],
  "background": ["background-image:linear-gradient(top,#282828,#515151);background-image:-webkit-linear-gradient(top,#282828,#515151);background-image:-o-linear-gradient(top,#282828,#515151);background-image:-ms-linear-gradient(top,#282828,#515151);background-image:-moz-linear-gradient(top,#282828,#515151)\"", "background-image:url(https://www1.djicdn.com/cms/uploads/9fe52c785a81a38675c11dd1ad8aab41.jpg)\"", "background-image:url(https://www1.djicdn.com/cms/uploads/524884174d1225f3e713385d118a2117.jpg);background-color:#a5a5a5\"", "background-image:linear-gradient(top,#47576d,#92a7bc);background-image:-webkit-linear-gradient(top,#47576d,#92a7bc);background-image:-o-linear-gradient(top,#47576d,#92a7bc);background-image:-ms-linear-gradient(top,#47576d,#92a7bc);background-image:-moz-linear-gradient(top,#47576d,#92a7bc)\"", "background-image:url(https://www1.djicdn.com/cms/uploads/dc3100ba286e77fa70446641f73b06e4.png)\"", "background-image:linear-gradient(top,#151515,#282828);background-image:-webkit-linear-gradient(top,#151515,#282828);background-image:-o-linear-gradient(top,#151515,#282828);background-image:-ms-linear-gradient(top,#151515,#282828);background-image:-moz-linear-gradient(top,#151515,#282828)\"", "background-image:linear-gradient(top,#101013,#3b3d40);background-image:-webkit-linear-gradient(top,#101013,#3b3d40);background-image:-o-linear-gradient(top,#101013,#3b3d40);background-image:-ms-linear-gradient(top,#101013,#3b3d40);background-image:-moz-linear-gradient(top,#101013,#3b3d40)\"", "background-image:linear-gradient(top,#16151a,#3d3d49);background-image:-webkit-linear-gradient(top,#16151a,#3d3d49);background-image:-o-linear-gradient(top,#16151a,#3d3d49);background-image:-ms-linear-gradient(top,#16151a,#3d3d49);background-image:-moz-linear-gradient(top,#16151a,#3d3d49)\"", "background-image:url(//www1.djicdn.com/cms_uploads/banner_background/img/1153/c277c150803fe1b58e35ce05697569f4.jpg);background-color:#79a199\"", "background-image:linear-gradient(top,#282828,#515151);background-image:-webkit-linear-gradient(top,#282828,#515151);background-image:-o-linear-gradient(top,#282828,#515151);background-image:-ms-linear-gradient(top,#282828,#515151);background-image:-moz-linear-gradient(top,#282828,#515151)\"", "background-image:url(https://www1.djicdn.com/cms/uploads/9fe52c785a81a38675c11dd1ad8aab41.jpg)"]
}; //header进入的样式切换

$('.site-header').hover(function () {
  $('.header-logo-nav .logo').css('background-image', 'url(../images/logo-b.svg)');
  $('.search-pic').css('background-image', 'url(../images/search-b.svg)');
  $('.login-register-pic').css('background-image', 'url(../images/user-b.svg)');
  $('.site-header').css('background-color', '#fff');
  $('.nav-title').css('color', '#3b3e40');
}, function () {
  $('.header-logo-nav .logo').css('background-image', 'url(../images/logo.svg)');
  $('.search-pic').css('background-image', 'url(../images/search.svg)');
  $('.login-register-pic').css('background-image', 'url(../images/user.svg)');
  $('.site-header').css('background-color', 'transparent');
  $('.nav-title').css('color', '#fff');
});
/*跳转商城页面*/

$('.header-user .shops').click(function () {
  var newWindow = window.open('./shops-page.html', '_self');
}); // heder-nav二级菜单

$('.site-header').on('mouseenter', '.header-nav-item', function () {
  //显示当前hover项目二级菜单，隐藏其他二级菜单
  $(this).children('.nav-menu').css('display', 'block').end().siblings().children('.nav-menu').css('display', 'none'); //移出nav列表隐藏所有二级菜单

  $('.header-nav').mouseleave(function () {
    $(this).children().children('.nav-menu').css('display', 'none');
  });
}); //todo:Search 的search-input和search-btn需要动画

$('.search-pic').click(function () {
  $('.search-bar').css('display', 'block');
  $('.search-bar-wrap-btn').animate({
    left: 0
  }, 400);
  $('.search-bar-wrap-body').animate({
    left: 0
  }, 400);
  $('.search-input').focus();
});
$('.search-bar-wrap-close').click(function () {
  $('.search-bar').css('display', 'none');
  $('.search-bar-wrap-btn').animate({
    left: '60px'
  }, 1);
  $('.search-bar-wrap-body').animate({
    left: '600px'
  }, 1);
});
/*slider*/

$(document).ready(function () {
  /*banner-slider*/
  var bannerBtns = [" ", "Ronin SC 如影 SC 单手持微单稳定器", "机甲大师 RoboMaster S1", "灵眸 Osmo 口袋云台相机", "经纬 M200 V2 系列", "Jimmy Chin × Osmo Action", "御 Mavic Mini 航拍小飞机", "T20 植保无人飞机", "Osmo Mobile 灵眸手机云台 3", "DJI FPV 数字图传系统"];

  for (var index in mainBanner['title']) {
    var imgs = " <div class=\"swiper-slide\">\n                <a href=\"javascript:;\" class=\"banner-link\" style=".concat(mainBanner['background'][index], ">\n                    <div class=\"banner-text ani\" swiper-animate-effect=\"fadeInDown\"  swiper-animate-duration=\"0.4s\">\n                        <img src=").concat(mainBanner['text'][index], "  class=\"banner-logo\">\n                        <p style=\"color:#ffffff\" class=\"banner-slogan\">").concat(mainBanner['title'][index], "</p>\n                    </div>\n                    <div class=\"banner-image ani\" swiper-animate-effect=\"fadeInUp\" swiper-animate-duration=\"0.4s\">\n                        <img src=").concat(mainBanner['img'][index], " alt=\"\">\n                    </div>\n                </a>\n            </div>");
    $('.site-banner .swiper-wrapper').append(imgs); // $('.swiper-pagination .swiper-pagination-wrap').append(btns);
  }

  var mySwiper = new Swiper('#swiper-1', {
    direction: 'horizontal',
    // 垂直切换选项
    effect: 'fade',
    loop: true,
    // 循环模式选项
    autoplay: true,
    //等同于以下设置
    // 如果需要分页器
    pagination: {
      el: '.swiper-pagination-wrap',
      clickable: true,
      bulletElement: 'li',
      // dynamicBullets: true,//动态分页器，当你的slide很多时，开启后，分页器小点的数量会部分隐藏。
      // dynamicMainBullets: 5,
      renderBullet: function renderBullet(index, className) {
        // return '<span class="' + className + '">' + (index + 1) + '</span>';
        var btns = "<li data-index=".concat(index + 1, " class=\"").concat(className, "\"><a href=\"javascript:;\">").concat(mainBanner['product'][index], "</a></li>");
        return btns;
      }
    },
    // 如果需要前进后退按钮
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev'
    },
    on: {
      init: function init() {
        swiperAnimateCache(this); //隐藏动画元素

        swiperAnimate(this); //初始化完成开始动画
      },
      slideChangeTransitionEnd: function slideChangeTransitionEnd() {
        swiperAnimate(this); //每个slide切换结束时也运行当前slide动画
        //this.slides.eq(this.activeIndex).find('.ani').removeClass('ani'); 动画只展现一次，去除ani类名
      }
    }
  });
  /*banner-slider*/

  /*product-slider*/

  var productSliderArr = ["product-silder1.jpg", "product-silder2.jpg", "product-silder3.jpg", "product-silder4.jpg", "product-silder5.jpg", "product-silder6.jpg", "product-silder7.jpg", "product-silder8.jpg", "product-silder9.jpg", "product-silder10.jpg", "product-silder11.jpg", "product-silder12.jpg"];
  var imgsP = '';

  for (var indexP in productSliderArr) {
    imgsP += "<div class=\"ani swiper-slide\" swiper-animate-effect=\"fadeInDown\" swiper-animate-duration=\"0.5s\"><img src=\"./images/".concat(productSliderArr[indexP], "\" alt=\"\"></div>");
  }

  $('.product-silder .swiper-wrapper').append(imgsP);
  var productSlider = new Swiper('.product-silder', {
    direction: 'horizontal',
    // 垂直切换选项
    effect: 'fade',
    loop: true,
    // 循环模式选项
    // 如果需要前进后退按钮
    navigation: {
      nextEl: '.product-silder .swiper-button-next',
      prevEl: '.product-silder .swiper-button-prev'
    },
    on: {
      init: function init() {
        // swiperAnimateCache(this); //隐藏动画元素
        swiperAnimate(this); //初始化完成开始动画
      },
      slideChangeTransitionEnd: function slideChangeTransitionEnd() {
        swiperAnimate(this); //每个slide切换结束时也运行当前slide动画
        //this.slides.eq(this.activeIndex).find('.ani').removeClass('ani'); 动画只展现一次，去除ani类名
      }
    }
  });
  /*product-slider*/

  function anima() {
    $('.swiper-wrapper .swiper-slide').css({
      'top': '0px',
      'left': '0px',
      'width': '100%',
      'heihgt': '100%'
    });
    $('.swiper-wrapper .swiper-slide-next').animate({
      'top': '10px',
      'width': '99%'
    });
    $('.swiper-wrapper .swiper-slide-prev').animate({
      'top': '-10px' // 'width':'101%',
      // 'heihgt':'101%',

    });
  }

  $(".product-silder").hover(function () {
    anima();
    $('.product-silder .swiper-button-prev').click(function () {
      anima();
    });
    $('.product-silder .swiper-button-next').click(function () {
      anima();
    });
  }, function () {
    $('.swiper-wrapper .swiper-slide').css({
      'top': '0px',
      'left': '0px',
      'width': '100%',
      'heihgt': '100%'
    });
  });
});
$('.service-list li').hover(function () {
  $(this).siblings().children().css("color", "#797d80");
}, function () {
  $(this).siblings().children().css("color", "#303233");
});